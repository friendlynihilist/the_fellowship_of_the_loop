from csv import DictReader
from re import search
from anytree import Node
from collections import Counter
from networkx import MultiDiGraph


def citation_graph(self, data, sse):
    cited_articles = []
    cited_graph = MultiDiGraph()

    for dict in data:
        #riflettere su questo boolean
        if int(dict["cited by"]) > 0 or dict["known refs"] is True:
            cited_articles.append(dict)

    for cit_dict in cited_articles:
        for meta_dict in sse:
            if cit_dict["doi"] == meta_dict["doi"]:
                id = pretty_print[meta_dict]
                cited_graph.add_node(id)
                for item in cit_dict["known refs"]:
                    if item == meta_dict["doi"]:
                        id2 = pretty_print[meta_dict]
                        cited_graph.add_node(id2)
                        cited_graph.add_edge(id, id2)
                        
                        
                        
